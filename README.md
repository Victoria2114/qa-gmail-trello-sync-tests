# QA Automation Assignment ‚Äì Gmail ‚Üî Trello Sync

This repository contains automated tests (API + UI) for a **fictional system** that:

- Watches a **Gmail inbox**
- Creates / updates cards on a **Trello board**
- Applies extra logic such as:
  - ‚ÄúUrgent‚Äù emails ‚Üí cards with an **Urgent** label
  - Emails with the same subject ‚Üí **merged** into one Trello card
  - Card status ‚Üî Gmail folder (Inbox / Trash / etc.)

The goal of this project is to validate this behavior using:

- **Python + pytest**
- **Trello REST API**
- **Gmail API**
- **Playwright** for Trello UI tests
- **Allure** for reporting

---

## üß± Project Structure

```text
qa-gmail-trello-sync-tests/
  gmail/
    gmail_client.py        # Wrapper around Gmail API
  trello/
    trello_client.py       # Wrapper around Trello API (you configure keys here)
  tests/
    test_sync.py           # API tests (Gmail ‚Üî Trello sync logic)
    ui/
      conftest.py          # Playwright config, auth_state usage
      test_trello_ui.py    # Trello board UI tests (labels, status, etc.)
      test_save_auth.py    # One-time helper to save Trello login state
  pytest.ini               # pytest configuration, markers (api, ui)
  requirements.txt         # Python dependencies


üö® Important Note About Trello Login (PLEASE READ)

During the assignment, I attempted to use the Trello workspace provided by the company, but:

‚ùå The board required Google login
‚ùå Google account login was blocked for suspicious activity
‚ùå Playwright could not save auth_state.json because Google login cannot be automated
‚ùå CI cannot log in to Google either (security limitations)

Therefore, using the provided Trello board was impossible for UI automation.
‚úîÔ∏è Solution: I used a dedicated Trello board

To complete the task, I created a separate Trello workspace exclusively for this assignment.
This allowed:

stable login

saving Playwright authentication to auth_state.json

running UI tests consistently

running API tests with full control over board data

Temporary Trello Credentials (for assignment review)

These credentials provide access ONLY to the test board created for this homework:

Login:    victoria_mmm@live.com
Password: Ttimoybog111T@

üîë Where to Insert Your Own API Credentials

In:

trello/trello_client.py


Replace placeholders with your values:

API_KEY = "YOUR_KEY"
API_TOKEN = "YOUR_TOKEN"
BOARD_ID = "YOUR_BOARD_ID"


These are intentionally not stored in the repo for security reasons.
‚ñ∂Ô∏è Running Tests Locally
1. Install dependencies
pip install -r requirements.txt
playwright install
playwright install-deps

2. Run ALL tests (API + UI)
pytest -vv --alluredir=allure-results

3. Run API-only tests
pytest -m api -vv --alluredir=allure-results

4. Run UI-only tests

Requires:

valid Trello login

auth_state.json already generated by test_save_auth.py

pytest -m ui -vv --alluredir=allure-results

üìä Allure Reporting
Generate report:
allure serve allure-results

Tests via GitHub Actions (CI)

CI workflow file:

.github/workflows/tests.yml

What CI does:

Installs dependencies

Runs API tests

Uploads Allure results as artifacts

What CI cannot do:

‚ùå run UI tests
Because:

UI requires Trello login (session cookies)

auth_state.json cannot be pushed publicly

GitHub Actions cannot log in to Google

Trello UI requires full authenticated session

How to trigger a run:

Go to Actions tab

Select CI ‚Äì Automation tests

Click Run workflow

You will see workflow logs + downloadable Allure results.



